function showPatient() {
    $.ajax({
        url: "tables/consultation_patient_table.php",
        type: "POST",
        async: !1,
        data: {
            show: 1
        },
        success: function (a) {
            $("#consultationpatientTable").html(a);
            $("#consultationpatienttable").DataTable()
        }
    })
}
$(document).ready(function () {
    showPatient(), $(document).on("click", "#addnew", function () {
        if ("" == $("#date_today").val() || "" == $("#weight").val() || "" == $("#bp").val() || "" == $("#temp").val() || "" == $("#headfamily").val() || "" == $("#rr").val() || "" == $("#pr").val() || "" == $("#complaints").val() || "" == $("#pefindings").val() || "" == $("#diagnosis").val() || "" == $("#labrequest").val()) $("#alert2").slideDown(), $("#alerttext2").html('<span class="fa fa-exclamation-circle"></span> All fields are required!'), setTimeout(function () {
            $("#alert2").fadeOut("slow")
        }, 3500);
        else {
            $patient_id = $("#patient_id").val(), $date_today = $("#date_today").val(), $weight = $("#weight").val(), $bp = $("#bp").val(), $temp = $("#temp").val(), $headfamily = $("#headfamily").val(), $rr = $("#rr").val(), $pr = $("#pr").val(), $complaints = $("#complaints").val(), $pefindings = $("#pefindings").val(), $diagnosis = $("#diagnosis").val(), $labrequest = $("#labrequest").val();
            var a = [];
            $("#complaints option:selected").each(function (t) {
                a[t] = $(this).val()
            }), confirm("Are you sure you want to add this patient?") && $.ajax({
                type: "POST",
                url: "action/addconsultation.php",
                cache: !1,
                async: !1,
                data: {
                    patient_id: $patient_id,
                    date_today: $date_today,
                    weight: $weight,
                    bp: $bp,
                    temp: $temp,
                    headfamily: $headfamily,
                    rr: $rr,
                    pr: $pr,
                    complaints: a,
                    pefindings: $pefindings,
                    diagnosis: $diagnosis,
                    labrequest: $labrequest,
                    add: 1
                },
                success: function () {
                    $("#alert").slideDown(), $("#alerttext").text("Patient Consultation Added Successfully!"), setTimeout(function () {
                        $("#alert").fadeOut("slow")
                    }, 1500), setTimeout(function () {
                        window.location.href = "consultation"
                    }, 2500)
                }
            }), $("form").trigger("reset")
        }
    })
});
